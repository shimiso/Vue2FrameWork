webpackJsonp([18],{

/***/ "29oo":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue__ = __webpack_require__("O0R+");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue__);
/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue__ = __webpack_require__("Uzsi");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_27606708_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_list_news_vue__ = __webpack_require__("LWsU");
function injectStyle (ssrContext) {
  __webpack_require__("dvSa")
}
var normalizeComponent = __webpack_require__("C7Lr")
/* script */


/* template */

/* template functional */
var __vue_template_functional__ = false
/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = null
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_list_news_vue___default.a,
  __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_27606708_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_list_news_vue__["a" /* default */],
  __vue_template_functional__,
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["default"] = (Component.exports);


/***/ }),

/***/ "LWsU":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('x-header',{attrs:{"left-options":{backText: ''}}},[_vm._v("新闻列表")]),_vm._v(" "),_c('div',{ref:"mescroll",staticClass:"mescroll"},[_c('div',[_c('p',{staticClass:"notice"},[_vm._v("本Demo的下拉刷新: 添加新数据到列表顶部")]),_vm._v(" "),_c('ul',{staticClass:"news-list",attrs:{"id":"newsList"}},_vm._l((_vm.newArr),function(news){return _c('li',{key:news.id},[_c('p',[_vm._v(_vm._s(news.title))]),_vm._v(" "),_c('p',{staticClass:"new-content"},[_vm._v(_vm._s(news.content))])])}))])])],1)}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ "O0R+":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _mescroll = __webpack_require__("6UIf");

var _mescroll2 = _interopRequireDefault(_mescroll);

__webpack_require__("4sx6");

var _index = __webpack_require__("Z2Kc");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  name: 'listNews',
  components: { XHeader: _index2.default },
  data: function data() {
    return {
      mescroll: null,
      newArr: []
    };
  },
  mounted: function mounted() {

    this.mescroll = new _mescroll2.default(this.$refs.mescroll, {
      down: {
        auto: false,
        callback: this.downCallback
      },
      up: {
        auto: true,
        callback: this.upCallback,
        page: {
          num: 0,
          size: 10
        },
        noMoreSize: 5,
        toTop: {
          src: './static/mescroll/mescroll-totop.png'
        }
      }
    });
  },
  beforeRouteEnter: function beforeRouteEnter(to, from, next) {
    next(function (vm) {
      if (vm.mescroll) {

        if (vm.mescroll.lastBounce != null) vm.mescroll.setBounce(vm.mescroll.lastBounce);

        if (vm.mescroll.lastScrollTop) {
          vm.mescroll.setScrollTop(vm.mescroll.lastScrollTop);
          setTimeout(function () {
            vm.mescroll.setTopBtnFadeDuration(0);
          }, 16);
        }
      }
    });
  },
  beforeRouteLeave: function beforeRouteLeave(to, from, next) {
    if (this.mescroll) {
      this.mescroll.lastBounce = this.mescroll.optUp.isBounce;
      this.mescroll.setBounce(true);
      this.mescroll.lastScrollTop = this.mescroll.getScrollTop();
      this.mescroll.hideTopBtn(0);
    }
    next();
  },

  methods: {
    downCallback: function downCallback() {
      var _this = this;

      console.log('this.mescroll.version=' + this.mescroll.version);

      this.getListDataFromNet(0, 1, function (data) {

        _this.newArr.unshift(data);

        _this.$nextTick(function () {
          _this.mescroll.endSuccess();
        });
      }, function () {

        _this.mescroll.endErr();
      });
    },
    upCallback: function upCallback(page) {
      var _this2 = this;

      this.getListDataFromNet(page.num, page.size, function (curPageData) {

        _this2.newArr = _this2.newArr.concat(curPageData);

        _this2.$nextTick(function () {
          _this2.mescroll.endSuccess(curPageData.length);
        });
      }, function () {

        _this2.mescroll.endErr();
      });
    },
    getListDataFromNet: function getListDataFromNet(pageNum, pageSize, successCallback, errorCallback) {

      setTimeout(function () {
        try {

          if (pageNum === 0) {

            var id = new Date().getTime();
            var newObj = { title: '【新增新闻】 标题' + id, content: '新增新闻的内容', id: id };
            successCallback && successCallback(newObj);
          } else {

            var newArr = [];
            for (var i = 0; i < pageSize; i++) {
              var upIndex = (pageNum - 1) * pageSize + i + 1;
              newArr.push({ title: '【新闻' + upIndex + '】 标题标题标题标题标题标题', content: '内容内容内容内容内容内容内容内容内容内容', id: upIndex });
            }
            successCallback && successCallback(newArr);
          }
        } catch (e) {

          errorCallback && errorCallback();
        }
      }, 1000);
    }
  }
};

/***/ }),

/***/ "Uzsi":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _mescroll = __webpack_require__("6UIf");

var _mescroll2 = _interopRequireDefault(_mescroll);

__webpack_require__("4sx6");

var _index = __webpack_require__("Z2Kc");

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  name: 'listNews',
  components: { XHeader: _index2.default },
  data: function data() {
    return {
      mescroll: null,
      newArr: []
    };
  },
  mounted: function mounted() {

    this.mescroll = new _mescroll2.default(this.$refs.mescroll, {
      down: {
        auto: false,
        callback: this.downCallback
      },
      up: {
        auto: true,
        callback: this.upCallback,
        page: {
          num: 0,
          size: 10
        },
        noMoreSize: 5,
        toTop: {
          src: './static/mescroll/mescroll-totop.png'
        }
      }
    });
  },
  beforeRouteEnter: function beforeRouteEnter(to, from, next) {
    next(function (vm) {
      if (vm.mescroll) {

        if (vm.mescroll.lastBounce != null) vm.mescroll.setBounce(vm.mescroll.lastBounce);

        if (vm.mescroll.lastScrollTop) {
          vm.mescroll.setScrollTop(vm.mescroll.lastScrollTop);
          setTimeout(function () {
            vm.mescroll.setTopBtnFadeDuration(0);
          }, 16);
        }
      }
    });
  },
  beforeRouteLeave: function beforeRouteLeave(to, from, next) {
    if (this.mescroll) {
      this.mescroll.lastBounce = this.mescroll.optUp.isBounce;
      this.mescroll.setBounce(true);
      this.mescroll.lastScrollTop = this.mescroll.getScrollTop();
      this.mescroll.hideTopBtn(0);
    }
    next();
  },

  methods: {
    downCallback: function downCallback() {
      var _this = this;

      console.log('this.mescroll.version=' + this.mescroll.version);

      this.getListDataFromNet(0, 1, function (data) {

        _this.newArr.unshift(data);

        _this.$nextTick(function () {
          _this.mescroll.endSuccess();
        });
      }, function () {

        _this.mescroll.endErr();
      });
    },
    upCallback: function upCallback(page) {
      var _this2 = this;

      this.getListDataFromNet(page.num, page.size, function (curPageData) {

        _this2.newArr = _this2.newArr.concat(curPageData);

        _this2.$nextTick(function () {
          _this2.mescroll.endSuccess(curPageData.length);
        });
      }, function () {

        _this2.mescroll.endErr();
      });
    },
    getListDataFromNet: function getListDataFromNet(pageNum, pageSize, successCallback, errorCallback) {

      setTimeout(function () {
        try {

          if (pageNum === 0) {

            var id = new Date().getTime();
            var newObj = { title: '【新增新闻】 标题' + id, content: '新增新闻的内容', id: id };
            successCallback && successCallback(newObj);
          } else {

            var newArr = [];
            for (var i = 0; i < pageSize; i++) {
              var upIndex = (pageNum - 1) * pageSize + i + 1;
              newArr.push({ title: '【新闻' + upIndex + '】 标题标题标题标题标题标题', content: '内容内容内容内容内容内容内容内容内容内容', id: upIndex });
            }
            successCallback && successCallback(newArr);
          }
        } catch (e) {

          errorCallback && errorCallback();
        }
      }, 1000);
    }
  }
};

/***/ }),

/***/ "dvSa":
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ })

});