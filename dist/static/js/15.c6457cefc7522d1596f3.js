webpackJsonp([15],{

/***/ "19Iz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('x-header',{attrs:{"left-options":{backText: ''}}},[_vm._v("MeScroll所有配置项 (详见代码)")]),_vm._v(" "),_c('div',{staticClass:"mescroll",attrs:{"id":"mescroll"}},[_c('img',{staticClass:"swiper",attrs:{"src":__webpack_require__("87d/")}}),_vm._v(" "),_c('div',{staticClass:"nav"},[_c('p',{class:_vm.getActiveCls(0),on:{"click":function($event){_vm.changeTab(0)}}},[_vm._v("全部")]),_vm._v(" "),_c('p',{class:_vm.getActiveCls(1),on:{"click":function($event){_vm.changeTab(1)}}},[_vm._v("奶粉")]),_vm._v(" "),_c('p',{class:_vm.getActiveCls(2),on:{"click":function($event){_vm.changeTab(2)}}},[_vm._v("图书")])]),_vm._v(" "),_c('ul',{staticClass:"data-list",attrs:{"id":"dataList"}},_vm._l((_vm.dataList),function(pd){return _c('li',{key:pd.id},[_c('img',{staticClass:"pd-img",attrs:{"imgurl":pd.pdImg,"src":__webpack_require__("76a6")}}),_vm._v(" "),_c('p',{staticClass:"pd-name"},[_vm._v(_vm._s(pd.pdName))]),_vm._v(" "),_c('p',{staticClass:"pd-price"},[_vm._v(_vm._s(pd.pdPrice)+" 元")]),_vm._v(" "),_c('p',{staticClass:"pd-sold"},[_vm._v("已售"+_vm._s(pd.pdSold)+"件")])])}))])],1)}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ }),

/***/ "2Oap":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue__ = __webpack_require__("s4VA");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue__);
/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue__ = __webpack_require__("hBc+");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_994bd516_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_mescroll_options_vue__ = __webpack_require__("19Iz");
function injectStyle (ssrContext) {
  __webpack_require__("fyW8")
}
var normalizeComponent = __webpack_require__("C7Lr")
/* script */


/* template */

/* template functional */
var __vue_template_functional__ = false
/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = null
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_1__babel_loader_node_modules_vux_loader_1_2_9_vux_loader_src_script_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_mescroll_options_vue___default.a,
  __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_994bd516_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_1_2_9_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_1_2_9_vux_loader_src_template_loader_js_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_mescroll_options_vue__["a" /* default */],
  __vue_template_functional__,
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["default"] = (Component.exports);


/***/ }),

/***/ "87d/":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/swiper.1b89c72.jpg";

/***/ }),

/***/ "fyW8":
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ "hBc+":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _mescroll = __webpack_require__("6UIf");

var _mescroll2 = _interopRequireDefault(_mescroll);

__webpack_require__("4sx6");

var _index = __webpack_require__("Z2Kc");

var _index2 = _interopRequireDefault(_index);

var _pdlist = __webpack_require__("Zgli");

var _pdlist2 = _interopRequireDefault(_pdlist);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  name: 'mescrollOptions',
  components: { XHeader: _index2.default },
  data: function data() {
    return {
      mescroll: null,
      dataList: [],
      pdType: 0
    };
  },
  mounted: function mounted() {

    this.mescroll = new _mescroll2.default('mescroll', {

      down: {
        use: true,
        auto: true,
        autoShowLoading: false,
        isLock: false,
        isBoth: false,
        callback: function callback(mescroll) {
          console.log('down --> callback');

          mescroll.resetUpScroll();
        },
        offset: 60,
        outOffsetRate: 0.2,
        bottomOffset: 20,
        minAngle: 45,
        hardwareClass: 'mescroll-hardware',
        mustToTop: false,
        warpId: null,
        warpClass: 'mescroll-downwarp',
        resetClass: 'mescroll-downwarp-reset',
        textInOffset: '下拉刷新',
        textOutOffset: '释放更新',
        textLoading: '加载中 ...',
        htmlContent: '<p class="downwarp-progress"></p><p class="downwarp-tip"></p>',
        inited: function inited(mescroll, downwarp) {
          console.log('down --> inited');

          mescroll.downTipDom = downwarp.getElementsByClassName('downwarp-tip')[0];
          mescroll.downProgressDom = downwarp.getElementsByClassName('downwarp-progress')[0];
        },
        inOffset: function inOffset(mescroll) {
          console.log('down --> inOffset');

          if (mescroll.downTipDom) mescroll.downTipDom.innerHTML = mescroll.optDown.textInOffset;
          if (mescroll.downProgressDom) mescroll.downProgressDom.classList.remove('mescroll-rotate');
        },
        outOffset: function outOffset(mescroll) {
          console.log('down --> outOffset');

          if (mescroll.downTipDom) mescroll.downTipDom.innerHTML = mescroll.optDown.textOutOffset;
        },
        onMoving: function onMoving(mescroll, rate, downHight) {

          console.log('down --> onMoving --> mescroll.optDown.offset=' + mescroll.optDown.offset + ', downHight=' + downHight + ', rate=' + rate);
          if (mescroll.downProgressDom) {
            var progress = 360 * rate;
            mescroll.downProgressDom.style.webkitTransform = 'rotate(' + progress + 'deg)';
            mescroll.downProgressDom.style.transform = 'rotate(' + progress + 'deg)';
          }
        },
        beforeLoading: function beforeLoading(mescroll, downwarp) {
          console.log('down --> beforeLoading');

          return false;
        },
        showLoading: function showLoading(mescroll) {
          console.log('down --> showLoading');

          if (mescroll.downTipDom) mescroll.downTipDom.innerHTML = mescroll.optDown.textLoading;
          if (mescroll.downProgressDom) mescroll.downProgressDom.classList.add('mescroll-rotate');
        },
        afterLoading: function afterLoading(mescroll) {
          console.log('down --> afterLoading');

          return 0;
        }
      },

      up: {
        use: true,
        auto: true,
        isLock: false,
        isBoth: true,
        isBounce: true,
        callback: this.upCallback,
        page: {
          num: 0,
          size: 10,
          time: null
        },
        noMoreSize: 5,
        offset: 100,
        toTop: {

          warpId: null,
          src: './static/mescroll/mescroll-totop.png',
          html: null,
          offset: 1000,
          warpClass: 'mescroll-totop',
          showClass: 'mescroll-fade-in',
          hideClass: 'mescroll-fade-out',
          duration: 300,
          supportTap: false,
          btnClick: null
        },
        loadFull: {
          use: false,
          delay: 500
        },
        empty: {

          warpId: 'dataList',
          icon: './static/mescroll/mescroll-empty.png',
          tip: '暂无相关数据~',
          btntext: '去逛逛 >',
          btnClick: function btnClick() {
            alert('点击了按钮,具体逻辑自行实现');
          },
          supportTap: false
        },
        clearId: null,
        clearEmptyId: null,
        hardwareClass: 'mescroll-hardware',
        warpId: null,
        warpClass: 'mescroll-upwarp',
        htmlLoading: '<p class="upwarp-progress mescroll-rotate"></p><p class="upwarp-tip">加载中..</p>',
        htmlNodata: '<p class="upwarp-nodata">-- END --</p>',
        inited: function inited(mescroll, upwarp) {
          console.log('up --> inited');
        },
        showLoading: function showLoading(mescroll, upwarp) {
          console.log('up --> showLoading');

          upwarp.innerHTML = mescroll.optUp.htmlLoading;
        },
        showNoMore: function showNoMore(mescroll, upwarp) {
          console.log('up --> showNoMore');

          upwarp.innerHTML = mescroll.optUp.htmlNodata;
        },
        onScroll: function onScroll(mescroll, y, isUp) {

          console.log('up --> onScroll 列表当前滚动的距离 y = ' + y + ', 是否向上滑动 isUp = ' + isUp);
        },
        scrollbar: {
          use: typeof window.orientation === 'undefined',
          barClass: 'mescroll-bar'
        },
        lazyLoad: {
          use: true,
          attr: 'imgurl',
          showClass: 'mescroll-lazy-in',
          delay: 500,
          offset: 200
        }
      }
    });
  },
  beforeRouteEnter: function beforeRouteEnter(to, from, next) {
    next(function (vm) {
      if (vm.mescroll) {

        if (vm.mescroll.lastBounce != null) vm.mescroll.setBounce(vm.mescroll.lastBounce);

        if (vm.mescroll.lastScrollTop) {
          vm.mescroll.setScrollTop(vm.mescroll.lastScrollTop);
          setTimeout(function () {
            vm.mescroll.setTopBtnFadeDuration(0);
          }, 16);
        }
      }
    });
  },
  beforeRouteLeave: function beforeRouteLeave(to, from, next) {
    if (this.mescroll) {
      this.mescroll.lastBounce = this.mescroll.optUp.isBounce;
      this.mescroll.setBounce(true);
      this.mescroll.lastScrollTop = this.mescroll.getScrollTop();
      this.mescroll.hideTopBtn(0);
    }
    next();
  },

  methods: {
    upCallback: function upCallback(page) {
      var _this = this;

      this.getListDataFromNet(this.pdType, page.num, page.size, function (arr) {

        if (page.num === 1) _this.dataList = [];

        _this.dataList = _this.dataList.concat(arr);

        _this.$nextTick(function () {
          _this.mescroll.endSuccess(arr.length);
        });
      }, function () {
        _this.mescroll.endErr();
      });
    },
    getActiveCls: function getActiveCls(type) {
      return this.pdType === type ? 'active' : '';
    },
    changeTab: function changeTab(type) {
      if (this.pdType !== type) {
        this.pdType = type;
        this.dataList = [];
        this.mescroll.resetUpScroll();
      }
    },
    getListDataFromNet: function getListDataFromNet(pdType, pageNum, pageSize, successCallback, errorCallback) {

      setTimeout(function () {

        var listData = [];

        if (pdType === 0) {

          for (var i = (pageNum - 1) * pageSize; i < pageNum * pageSize; i++) {
            if (i === _pdlist2.default.length) break;
            listData.push(_pdlist2.default[i]);
          }
        } else if (pdType === 1) {

          for (var j = 0; j < _pdlist2.default.length; j++) {
            if (_pdlist2.default[j].pdName.indexOf('奶') !== -1) {
              listData.push(_pdlist2.default[j]);
            }
          }
        } else if (pdType === 2) {

          for (var k = 0; k < _pdlist2.default.length; k++) {
            if (_pdlist2.default[k].pdName.indexOf('图书') !== -1) {
              listData.push(_pdlist2.default[k]);
            }
          }
        }

        successCallback(listData);
      }, 1000);
    }
  }
};

/***/ }),

/***/ "s4VA":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _mescroll = __webpack_require__("6UIf");

var _mescroll2 = _interopRequireDefault(_mescroll);

__webpack_require__("4sx6");

var _index = __webpack_require__("Z2Kc");

var _index2 = _interopRequireDefault(_index);

var _pdlist = __webpack_require__("Zgli");

var _pdlist2 = _interopRequireDefault(_pdlist);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  name: 'mescrollOptions',
  components: { XHeader: _index2.default },
  data: function data() {
    return {
      mescroll: null,
      dataList: [],
      pdType: 0
    };
  },
  mounted: function mounted() {

    this.mescroll = new _mescroll2.default('mescroll', {

      down: {
        use: true,
        auto: true,
        autoShowLoading: false,
        isLock: false,
        isBoth: false,
        callback: function callback(mescroll) {
          console.log('down --> callback');

          mescroll.resetUpScroll();
        },
        offset: 60,
        outOffsetRate: 0.2,
        bottomOffset: 20,
        minAngle: 45,
        hardwareClass: 'mescroll-hardware',
        mustToTop: false,
        warpId: null,
        warpClass: 'mescroll-downwarp',
        resetClass: 'mescroll-downwarp-reset',
        textInOffset: '下拉刷新',
        textOutOffset: '释放更新',
        textLoading: '加载中 ...',
        htmlContent: '<p class="downwarp-progress"></p><p class="downwarp-tip"></p>',
        inited: function inited(mescroll, downwarp) {
          console.log('down --> inited');

          mescroll.downTipDom = downwarp.getElementsByClassName('downwarp-tip')[0];
          mescroll.downProgressDom = downwarp.getElementsByClassName('downwarp-progress')[0];
        },
        inOffset: function inOffset(mescroll) {
          console.log('down --> inOffset');

          if (mescroll.downTipDom) mescroll.downTipDom.innerHTML = mescroll.optDown.textInOffset;
          if (mescroll.downProgressDom) mescroll.downProgressDom.classList.remove('mescroll-rotate');
        },
        outOffset: function outOffset(mescroll) {
          console.log('down --> outOffset');

          if (mescroll.downTipDom) mescroll.downTipDom.innerHTML = mescroll.optDown.textOutOffset;
        },
        onMoving: function onMoving(mescroll, rate, downHight) {

          console.log('down --> onMoving --> mescroll.optDown.offset=' + mescroll.optDown.offset + ', downHight=' + downHight + ', rate=' + rate);
          if (mescroll.downProgressDom) {
            var progress = 360 * rate;
            mescroll.downProgressDom.style.webkitTransform = 'rotate(' + progress + 'deg)';
            mescroll.downProgressDom.style.transform = 'rotate(' + progress + 'deg)';
          }
        },
        beforeLoading: function beforeLoading(mescroll, downwarp) {
          console.log('down --> beforeLoading');

          return false;
        },
        showLoading: function showLoading(mescroll) {
          console.log('down --> showLoading');

          if (mescroll.downTipDom) mescroll.downTipDom.innerHTML = mescroll.optDown.textLoading;
          if (mescroll.downProgressDom) mescroll.downProgressDom.classList.add('mescroll-rotate');
        },
        afterLoading: function afterLoading(mescroll) {
          console.log('down --> afterLoading');

          return 0;
        }
      },

      up: {
        use: true,
        auto: true,
        isLock: false,
        isBoth: true,
        isBounce: true,
        callback: this.upCallback,
        page: {
          num: 0,
          size: 10,
          time: null
        },
        noMoreSize: 5,
        offset: 100,
        toTop: {

          warpId: null,
          src: './static/mescroll/mescroll-totop.png',
          html: null,
          offset: 1000,
          warpClass: 'mescroll-totop',
          showClass: 'mescroll-fade-in',
          hideClass: 'mescroll-fade-out',
          duration: 300,
          supportTap: false,
          btnClick: null
        },
        loadFull: {
          use: false,
          delay: 500
        },
        empty: {

          warpId: 'dataList',
          icon: './static/mescroll/mescroll-empty.png',
          tip: '暂无相关数据~',
          btntext: '去逛逛 >',
          btnClick: function btnClick() {
            alert('点击了按钮,具体逻辑自行实现');
          },
          supportTap: false
        },
        clearId: null,
        clearEmptyId: null,
        hardwareClass: 'mescroll-hardware',
        warpId: null,
        warpClass: 'mescroll-upwarp',
        htmlLoading: '<p class="upwarp-progress mescroll-rotate"></p><p class="upwarp-tip">加载中..</p>',
        htmlNodata: '<p class="upwarp-nodata">-- END --</p>',
        inited: function inited(mescroll, upwarp) {
          console.log('up --> inited');
        },
        showLoading: function showLoading(mescroll, upwarp) {
          console.log('up --> showLoading');

          upwarp.innerHTML = mescroll.optUp.htmlLoading;
        },
        showNoMore: function showNoMore(mescroll, upwarp) {
          console.log('up --> showNoMore');

          upwarp.innerHTML = mescroll.optUp.htmlNodata;
        },
        onScroll: function onScroll(mescroll, y, isUp) {

          console.log('up --> onScroll 列表当前滚动的距离 y = ' + y + ', 是否向上滑动 isUp = ' + isUp);
        },
        scrollbar: {
          use: typeof window.orientation === 'undefined',
          barClass: 'mescroll-bar'
        },
        lazyLoad: {
          use: true,
          attr: 'imgurl',
          showClass: 'mescroll-lazy-in',
          delay: 500,
          offset: 200
        }
      }
    });
  },
  beforeRouteEnter: function beforeRouteEnter(to, from, next) {
    next(function (vm) {
      if (vm.mescroll) {

        if (vm.mescroll.lastBounce != null) vm.mescroll.setBounce(vm.mescroll.lastBounce);

        if (vm.mescroll.lastScrollTop) {
          vm.mescroll.setScrollTop(vm.mescroll.lastScrollTop);
          setTimeout(function () {
            vm.mescroll.setTopBtnFadeDuration(0);
          }, 16);
        }
      }
    });
  },
  beforeRouteLeave: function beforeRouteLeave(to, from, next) {
    if (this.mescroll) {
      this.mescroll.lastBounce = this.mescroll.optUp.isBounce;
      this.mescroll.setBounce(true);
      this.mescroll.lastScrollTop = this.mescroll.getScrollTop();
      this.mescroll.hideTopBtn(0);
    }
    next();
  },

  methods: {
    upCallback: function upCallback(page) {
      var _this = this;

      this.getListDataFromNet(this.pdType, page.num, page.size, function (arr) {

        if (page.num === 1) _this.dataList = [];

        _this.dataList = _this.dataList.concat(arr);

        _this.$nextTick(function () {
          _this.mescroll.endSuccess(arr.length);
        });
      }, function () {
        _this.mescroll.endErr();
      });
    },
    getActiveCls: function getActiveCls(type) {
      return this.pdType === type ? 'active' : '';
    },
    changeTab: function changeTab(type) {
      if (this.pdType !== type) {
        this.pdType = type;
        this.dataList = [];
        this.mescroll.resetUpScroll();
      }
    },
    getListDataFromNet: function getListDataFromNet(pdType, pageNum, pageSize, successCallback, errorCallback) {

      setTimeout(function () {

        var listData = [];

        if (pdType === 0) {

          for (var i = (pageNum - 1) * pageSize; i < pageNum * pageSize; i++) {
            if (i === _pdlist2.default.length) break;
            listData.push(_pdlist2.default[i]);
          }
        } else if (pdType === 1) {

          for (var j = 0; j < _pdlist2.default.length; j++) {
            if (_pdlist2.default[j].pdName.indexOf('奶') !== -1) {
              listData.push(_pdlist2.default[j]);
            }
          }
        } else if (pdType === 2) {

          for (var k = 0; k < _pdlist2.default.length; k++) {
            if (_pdlist2.default[k].pdName.indexOf('图书') !== -1) {
              listData.push(_pdlist2.default[k]);
            }
          }
        }

        successCallback(listData);
      }, 1000);
    }
  }
};

/***/ })

});